# Capitulo 3: Requirements specification.

## 3.1 User Stories

En el desarrollo de la plataforma Smart Energy Management System (SEMS) se definieron nueve épicas que abarcan todo el recorrido del usuario: desde registrarse y gestionar su cuenta, hasta monitorear dispositivos, recibir alertas, analizar reportes y optimizar su consumo energético.

Estas épicas se diseñaron tomando como base Domain-Driven Design (DDD), lo que permitió dividir el sistema en bounded contexts claros y funcionales. Gracias a esto, cada parte de la plataforma tiene responsabilidades bien definidas y puede crecer de manera independiente y escalable.

Las User Stories fueron redactadas siguiendo principios de User Experience (UX) y apoyadas en una arquitectura REST, lo que asegura que la interacción de los usuarios sea sencilla y fluida, al mismo tiempo que la parte técnica se mantiene ordenada y lista para integrarse con servicios distribuidos.

Cada User Story combina dos perspectivas:

* Una visión funcional, que explica lo que necesita el usuario y el valor que obtiene.

* Una visión técnica, con criterios de aceptación escritos en formato Dado–Cuando–Entonces, lo que facilita probar cada caso de uso y garantizar su cumplimiento.

Con este enfoque, las User Stories cubren áreas clave como la seguridad de cuentas, la conexión de dispositivos IoT, las alertas y notificaciones, los reportes y proyecciones, las herramientas de ahorro, la asesoría al usuario, la gestión avanzada de roles y la experiencia en la página de inicio.

| StoryID | Title                                                     | Description                                                                                                                           | Acceptance Criteria   | Epic |
|---------|-----------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------|-----------------------|------|
| US01    | Registro de cuenta                                        | Como usuario, quiero registrarme en la plataforma para acceder a todas las funcionalidades.                                           | Escenario 1: Registro válido<br><br>Dado que no dispongo de una cuenta<br>Cuando confirmo mi registro con datos completos y válidos<br>Entonces el sistema crea mi cuenta y la habilita<br><br><br><br>Escenario 2: Datos inválidos<br><br>Dado que ingreso datos incompletos o incorrectos<br>Cuando intento registrarme<br>Entonces el sistema rechaza el registro e informa los errores<br><br><br><br>Escenario 3: Correo duplicado<br><br>Dado que un correo ya está registrado<br>Cuando intento usarlo para crear otra cuenta<br>Entonces el sistema rechaza el proceso | EP01 |
| US02    | Inicio de sesión                                          | Como usuario, quiero autenticarme en la plataforma para gestionar mi consumo energético.                                              | Escenario 1: Credenciales válidas<br><br>Dado que dispongo de una cuenta registrada<br>Cuando ingreso credenciales correctas<br>Entonces el sistema me concede acceso<br><br><br><br>Escenario 2: Contraseña incorrecta<br><br>Dado que la contraseña ingresada no es correcta<br>Cuando intento iniciar sesión<br>Entonces el sistema rechaza el acceso y muestra el error<br><br><br><br>Escenario 3: Cuenta inexistente<br><br>Dado que el correo ingresado no está registrado<br>Cuando intento iniciar sesión<br>Entonces el sistema rechaza el acceso y muestra el error | EP01 |
| US03    | Configuración de perfil inicial                           | Como usuario, quiero registrar el tipo de vivienda y dispositivos básicos para personalizar mi experiencia.                           | Escenario 1: Configuración completa<br><br>Dado que dispongo de una cuenta registrada<br>Cuando configuro los datos iniciales de mi perfil<br>Entonces el sistema guarda la información correctamente<br><br><br><br>Escenario 2: Datos incompletos<br><br>Dado que ingreso información incompleta en la configuración<br>Cuando intento guardar los cambios<br>Entonces el sistema rechaza la configuración y muestra el error | EP01 |
| US04    | Recuperar contraseña                                      | Como usuario, quiero restablecer mi contraseña en caso de olvido para recuperar el acceso a mi cuenta.                                | Escenario 1: Solicitud de restablecimiento<br><br>Dado que el usuario no recuerda su contraseña<br>Cuando solicita el restablecimiento con un correo válido<br>Entonces el sistema envía un enlace de recuperación<br>Y muestra el mensaje: "Hemos enviado un enlace de recuperación a tu correo."<br><br><br><br>Escenario 2: Cambio exitoso de contraseña<br><br>Dado que el usuario accede al enlace de recuperación<br>Cuando establece una nueva contraseña válida<br>Entonces el sistema actualiza la credencial<br>Y muestra el mensaje: "Tu contraseña ha sido actualizada" | EP01 |
| US05    | Cerrar sesión de manera segura                            | Como usuario, quiero cerrar mi sesión de forma segura para proteger mi información.                                                   | Escenario 1: Cierre de sesión manual<br><br>Dado que el usuario tiene una sesión activa<br>Cuando solicita cerrar sesión<br>Entonces el sistema finaliza la sesión actual<br>Y muestra el mensaje: "Has cerrado sesión correctamente."<br><br><br><br>Escenario 2: Cierre de sesión automático por inactividad<br><br>Dado que el usuario permanece inactivo por un periodo prolongado<br>Cuando se supera el tiempo límite definido<br>Entonces el sistema cierra la sesión automáticamente | EP01 |
| US06    | Conectar dispositivos                                     | Como usuario, quiero vincular mis dispositivos eléctricos al sistema para supervisar su consumo.                                      | Escenario 1: Dispositivo detectado<br><br>Dado que dispongo de un dispositivo compatible<br>Cuando solicito conectarlo<br>Entonces el sistema lo vincula exitosamente<br><br><br><br>Escenario 2: Dispositivo no compatible<br><br>Dado que el dispositivo no es compatible<br>Cuando intento conectarlo<br>Entonces el sistema rechaza la conexión y muestra el error | EP02 |
| US07    | Identificación automática de dispositivos                 | Como usuario, quiero que el sistema identifique automáticamente los dispositivos conectados para facilitar su gestión.                | Escenario 1: Identificación exitosa<br><br>Dado que el dispositivo está conectado<br>Cuando el sistema lo reconoce<br>Entonces asigna automáticamente su categoría<br><br><br><br>Escenario 2: Identificación fallida<br><br>Dado que el dispositivo no puede identificarse<br>Cuando se intenta clasificar<br>Entonces el sistema solicita al usuario definirlo | EP02 |
| US08    | Monitorear consumo en tiempo real                         | Como usuario, quiero consultar el consumo energético en tiempo real para tomar decisiones inmediatas.                                 | Escenario 1: Consumo actualizado<br><br>Dado que el usuario tiene dispositivos conectados<br>Cuando consulta el panel de consumo<br>Entonces el sistema muestra la información actualizada en tiempo real<br>Y presenta el mensaje: "Consumo actualizado correctamente"<br><br><br><br>Escenario 2: Dispositivo desconectado<br><br>Dado que un dispositivo pierde la conexión<br>Cuando el usuario revisa el panel<br>Entonces el sistema indica que el dispositivo está sin datos en tiempo real<br>Y muestra el mensaje: "Dispositivo desconectado" | EP02 |
| US09    | Generar alertas de consumo elevado                        | Como usuario, quiero recibir alertas automáticas cuando un dispositivo supere el consumo establecido como normal.                     | Escenario 1: Envío de alerta por exceso de consumo<br><br>Dado que un dispositivo supera un umbral definido<br>Cuando ocurre este exceso de consumo<br>Entonces el sistema envía una alerta inmediata al usuario<br>Y muestra el mensaje: "Alerta: consumo elevado detectado"<br><br><br><br>Escenario 2: Registro de alerta en historial<br><br>Dado que se genera una alerta por exceso de consumo<br>Cuando el usuario consulta el historial de notificaciones<br>Entonces el sistema muestra la alerta registrada con fecha y hora<br>Y acompaña la entrada con el texto: "Historial de alertas actualizado" | EP03 |
| US10    | Recordatorios de desconexión de equipos en reposo         | Como usuario, quiero recibir recordatorios para desconectar equipos que permanecen conectados sin uso.                                | Escenario 1: Recordatorio por inactividad<br><br>Dado que un equipo permanece enchufado sin actividad<br>Cuando se detecta inactividad prolongada<br>Entonces el sistema envía un recordatorio de desconexión al usuario<br>Y muestra el mensaje: "Recuerda desconectar tus equipos inactivos"<br><br><br><br>Escenario 2: Configuración de recordatorios<br><br>Dado que el usuario define la frecuencia de recordatorios<br>Cuando un equipo permanece inactivo<br>Entonces el sistema respeta la configuración establecida para enviar avisos | EP03 |
| US11    | Configurar umbrales de alerta personalizados              | Como usuario, quiero establecer mis propios límites de consumo para recibir notificaciones adaptadas a mis necesidades                | Escenario 1: Generación de alerta personalizada<br><br>Dado que el usuario define un límite de consumo<br>Cuando un dispositivo lo supera<br>Entonces el sistema genera la alerta según la configuración establecida<br>Y muestra el mensaje: "Tu dispositivo ha superado el límite configurado"<br><br><br><br>Escenario 2: Restablecimiento de valores por defecto<br><br>Dado que el usuario modifica los umbrales de consumo<br>Cuando solicita restablecer la configuración<br>Entonces el sistema aplica nuevamente los valores predeterminados<br>Y confirma con el mensaje: "Se han restablecido los valores por defecto" | EP03 |
| US12    | Consultar reporte semanal de consumo                      | Como usuario, quiero revisar reportes semanales para conocer mi gasto energético desglosado por dispositivo.                          | Escenario 1: Generación automática del reporte<br><br>Dado que finalizó una semana de uso<br>Cuando el usuario consulta su informe<br>Entonces el sistema presenta el consumo total y el detalle por dispositivo<br><br><br><br>Escenario 2: Descarga del reporte en PDF<br><br>Dado que el usuario consulta su informe semanal<br>Cuando solicita la descarga<br>Entonces el sistema genera el reporte en formato PDF<br>Y confirma con el mensaje: "Tu reporte se ha descargado correctamente" | EP04 |
| US13    | Comparar consumo entre periodos                           | Como usuario, quiero comparar mi consumo en semanas o meses distintos para identificar patrones de gasto.                             | Escenario 1: Comparación entre semanas<br><br>Dado que el usuario selecciona dos periodos de tiempo<br>Cuando solicita la comparación<br>Entonces el sistema muestra las diferencias en porcentajes y gráficos<br><br><br><br>Escenario 2: Comparación entre meses<br><br>Dado que el usuario selecciona dos meses específicos<br>Cuando genera la comparación<br>Entonces el sistema presenta los resultados en formato visual | EP04 |
| US14    | Proyección de factura mensual                             | Como usuario, quiero recibir una estimación de mi próxima factura de electricidad con base en mi consumo actual.                      | Escenario 1: Proyección de factura activa<br><br>Dado que el sistema tiene acumulado el consumo actual<br>Cuando el usuario solicita la proyección<br>Entonces el sistema muestra el monto estimado de la próxima factura<br>Y presenta el mensaje: "Este es el monto estimado de tu próxima factura"<br><br><br><br>Escenario 2: Consumo insuficiente para proyección<br><br>Dado que el usuario recién comenzó a registrar su consumo<br>Cuando solicita una proyección<br>Entonces el sistema indica que no hay datos suficientes<br>Y muestra el mensaje: "No es posible calcular la proyección con los datos actuales" | EP04 |
| US15    | Consultar historial de consumo mensual                    | Como usuario, quiero consultar un historial de mi consumo mensual para identificar cambios en mi gasto energético.                    | Escenario 1: Visualización de historial<br><br>Dado que el usuario tiene consumos registrados en meses anteriores<br>Cuando accede a la sección de historial<br>Entonces el sistema muestra el consumo por cada mes<br><br><br><br>Escenario 2: Descarga de historial<br><br>Dado que el usuario consulta el historial mensual<br>Cuando solicita la descarga<br>Entonces el sistema genera un archivo en formato PDF | EP04 |
| US16    | Recomendaciones personalizadas de ahorro                  | Como usuario, quiero recibir consejos adaptados a mis hábitos de consumo para reducir gastos energéticos.                             | Escenario 1: Generación de recomendaciones<br><br>Dado que el sistema analiza los patrones de uso del usuario<br>Cuando detecta oportunidades de mejora<br>Entonces entrega sugerencias prácticas en el panel de recomendaciones<br><br><br><br>Escenario 2: Actualización de recomendaciones<br><br>Dado que el usuario modifica sus hábitos de consumo<br>Cuando se actualizan los registros<br>Entonces el sistema genera nuevas recomendaciones adaptadas | EP05 |
| US17    | Establecer metas de ahorro energético                     | Como usuario, quiero fijar metas mensuales de ahorro para motivarme a reducir mi consumo.                                             | Escenario 1: Definición de meta mensual<br><br>Dado que el usuario establece un porcentaje de reducción de consumo<br>Cuando confirma su objetivo<br>Entonces el sistema registra la meta de ahorro<br>Y muestra el mensaje: "Meta de ahorro registrada correctamente"<br><br><br><br>Escenario 2: Seguimiento de progreso<br><br>Dado que el usuario tiene una meta activa<br>Cuando consulta el avance<br>Entonces el sistema indica el porcentaje logrado hasta la fecha | EP05 |
| US18    | Comparar consumo con otros usuarios                       | Como usuario, quiero comparar mi consumo con el de hogares similares para evaluar mi eficiencia energética.                           | Escenario 1: Comparación con hogares del mismo tipo<br><br>Dado que el usuario tiene un perfil de vivienda registrado<br>Cuando solicita la comparación<br>Entonces el sistema presenta métricas frente a usuarios semejantes<br><br><br><br>Escenario 2: Ranking de eficiencia<br><br>Dado que existen múltiples usuarios en la plataforma<br>Cuando se genera un ranking comparativo<br>Entonces el sistema muestra la posición del usuario en relación con los demás | EP05 |
| US19    | Programar encendido automático de dispositivos            | Como usuario, quiero programar el encendido automático de mis dispositivos para optimizar el uso de energía.                          | Escenario 1: Programación exitosa de encendido<br><br>Dado que el usuario establece un horario de encendido<br>Cuando confirma la programación<br>Entonces el sistema activa el dispositivo en la hora definida<br>Y muestra el mensaje: "Encendido programado correctamente"<br><br><br><br>Escenario 2: Intento de programación inválida<br><br>Dado que el usuario define un horario en conflicto con otro ya registrado<br>Cuando intenta guardar la programación<br>Entonces el sistema rechaza el registro<br>Y presenta el mensaje: "El horario seleccionado entra en conflicto con una programación existente" | EP05 |
| US20    | Programar apagado automático de dispositivos              | Como usuario, quiero programar el apagado automático de mis dispositivos para evitar consumos innecesarios.                           | Escenario 1: Programación de apagado válida<br><br>Dado que el usuario establece un horario de apagado<br>Cuando confirma la programación<br>Entonces el sistema desactiva el dispositivo en la hora definida<br><br><br><br>Escenario 2: Confirmación de programación<br><br>Dado que el usuario ha guardado una programación válida<br>Cuando revisa la configuración<br>Entonces el sistema muestra el mensaje: "Apagado programado correctamente" | EP05 |
| US21    | Acceder a asesoría personalizada en eficiencia energética | Como usuario, quiero acceder a asesoría personalizada para mejorar la eficiencia energética de mi hogar.                              | Escenario 1: Solicitud de asesoría<br><br>Dado que el usuario solicita asesoría personalizada<br>Cuando la plataforma recibe la solicitud<br>Entonces el sistema agenda una sesión con un especialista<br>Y confirma con el mensaje: "Tu solicitud de asesoría ha sido registrada"<br><br><br><br>Escenario 2: Revisión de historial de asesorías<br><br>Dado que el usuario ha recibido asesorías previas<br>Cuando accede a su historial<br>Entonces el sistema muestra la información de asesorías anteriores | EP06 |
| US22    | Consultar centro de ayuda                                 | Como usuario, quiero acceder a un centro de ayuda con información y guías para resolver dudas comunes.                                | Escenario 1: Acceso al centro de ayuda<br><br>Dado que el usuario selecciona la opción de ayuda<br>Cuando entra al apartado<br>Entonces el sistema muestra artículos y guías disponibles<br><br><br><br>Escenario 2: Búsqueda dentro del centro de ayuda<br><br>Dado que el usuario necesita resolver una duda específica<br>Cuando introduce una palabra clave en la búsqueda<br>Entonces el sistema lista los artículos relacionados | EP06 |
| US23    | Contactar soporte técnico                                 | Como usuario, quiero contactar al soporte técnico para resolver problemas con la plataforma.                                          | Escenario 1: Envío de consulta a soporte<br><br>Dado que el usuario redacta una solicitud de soporte<br>Cuando la envía al sistema<br>Entonces el sistema confirma la recepción<br>Y muestra el mensaje: "Tu solicitud de soporte ha sido enviada"<br><br><br><br>Escenario 2: Recepción de respuesta de soporte<br><br>Dado que el usuario tiene una consulta registrada<br>Cuando el equipo de soporte responde<br>Entonces el sistema notifica al usuario con el mensaje: "Has recibido una respuesta de soporte" | EP06 |
| US24    | Agrupar dispositivos por categorías                       | Como usuario, quiero agrupar mis dispositivos por categorías (ejemplo: cocina, sala, dormitorio) para gestionar mejor mi consumo.     | Escenario 1: Creación de una categoría<br><br>Dado que el usuario define una nueva categoría de dispositivos<br>Cuando guarda la configuración<br>Entonces el sistema registra la categoría<br>Y confirma con el mensaje: "Categoría creada exitosamente"<br><br><br><br>Escenario 2: Asignación de dispositivos a categoría<br><br>Dado que el usuario tiene dispositivos registrados<br>Cuando los asigna a una categoría<br>Entonces el sistema organiza el consumo según la clasificación definida | EP07 |
| US25    | Consultar consumo por categoría de dispositivos           | Como usuario, quiero consultar el consumo energético agrupado por categorías para identificar los ambientes que más gasto generan.    | Escenario 1: Visualización de consumo por categoría<br><br>Dado que el usuario tiene dispositivos asignados a categorías<br>Cuando solicita un reporte por categoría<br>Entonces el sistema muestra el consumo total agrupado<br><br><br><br>Escenario 2: Comparación entre categorías<br><br>Dado que el usuario tiene varias categorías registradas<br>Cuando selecciona dos o más categorías<br>Entonces el sistema presenta un gráfico comparativo | EP07 |
| US26    | Identificar dispositivos de alto consumo                  | Como usuario, quiero identificar los dispositivos que generan mayor consumo energético para priorizar acciones de ahorro.             | Escenario 1: Listado de dispositivos más consumidores<br><br>Dado que el sistema registra el consumo de cada dispositivo<br>Cuando el usuario consulta el ranking<br>Entonces el sistema presenta los dispositivos ordenados por mayor gasto<br><br><br><br>Escenario 2: Alerta por dispositivo crítico<br><br>Dado que un dispositivo supera ampliamente el consumo promedio<br>Cuando el sistema lo identifica<br>Entonces muestra el mensaje: "Este dispositivo registra un consumo inusualmente alto" | EP07 |
| US27    | Administrar múltiples cuentas en un mismo hogar           | Como usuario, quiero permitir que varios miembros de mi hogar gestionen dispositivos desde sus propias cuentas.                       | Escenario 1: Invitación a un nuevo miembro<br><br>Dado que el usuario principal autoriza otra cuenta<br>Cuando se envía la invitación<br>Entonces el sistema registra al nuevo miembro<br>Y confirma con el mensaje: "Invitación enviada correctamente"<br><br><br><br>Escenario 2: Gestión compartida de dispositivos<br><br>Dado que existen múltiples cuentas en un hogar<br>Cuando un miembro gestiona un dispositivo<br>Entonces los cambios se reflejan en todas las cuentas vinculadas | EP08 |
| US28    | Definir roles de acceso en el hogar                       | Como usuario, quiero asignar diferentes niveles de acceso (administrador o invitado) para controlar permisos dentro de la plataforma. | Escenario 1: Asignación de rol de administrador<br><br>Dado que el usuario principal define a otro miembro como administrador<br>Cuando guarda los cambios<br>Entonces el sistema otorga permisos de gestión completa<br><br><br><br>Escenario 2: Asignación de rol de invitado<br><br>Dado que el usuario principal define a un miembro como invitado<br>Cuando guarda los cambios<br>Entonces el sistema restringe las acciones a solo visualización | EP08 |
| US29    | Cambiar idioma de la plataforma                           | Como usuario, quiero cambiar el idioma de la plataforma para comprender mejor la información según mi preferencia.                    | Escenario 1: Selección de idioma<br><br>Dado que el usuario se encuentra en la plataforma<br>Cuando selecciona un idioma disponible<br>Entonces el sistema actualiza el contenido a ese idioma<br>Y muestra el mensaje: "Idioma cambiado correctamente"<br><br><br><br>Escenario 2: Persistencia de idioma<br><br>Dado que el usuario seleccionó un idioma previamente<br>Cuando vuelve a iniciar sesión<br>Entonces el sistema mantiene la configuración del idioma elegido | EP09 |
| US30    | Consultar noticias y consejos de ahorro energético        | Como usuario, quiero acceder a una sección con noticias y consejos para mantenerme informado y reducir mi consumo.                    | Escenario 1: Visualizar sección de noticias<br><br>Dado que el usuario accede a la plataforma<br>Cuando entra en la sección de noticias<br>Entonces el sistema muestra artículos informativos y consejos de ahorro<br><br><br><br>Escenario 2: Acceder a detalle de noticia<br><br>Dado que el usuario selecciona un artículo específico<br>Cuando abre la publicación<br>Entonces el sistema presenta el contenido completo | EP09 |


## 3.2 Impact Mapping.

## 3.3 Product Backlog.
